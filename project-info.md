# Проект мода НПЦ для Stationeers

## Общая информация о проекте

**Название проекта:** EndGame Target Colony
**Цель:** Создать мод для игры Stationeers, который добавляет интеллектуального НПЦ с комплексным поведением
**Рабочая папка:** `ModdingTools/Stationeers_EndGameTargetColony`

## Структура проекта

### Доступные ресурсы
- **Декомпилированный код игры:** `ModdingTools/DecompiledCode/`
- **Примеры готовых модов:** `ModdingTools/` (содержит несколько рабочих модов)
- **Целевая папка разработки:** `ModdingTools/Stationeers_EndGameTargetColony`

### Изученные примеры модов
1. **Infinity Mining Density Mod** - предотвращает падение плотности добычи ниже 0.1
2. **SPU HUD Mod** - отображает программируемую HUD информацию через сенсорные линзы

## Техническая архитектура (на основе изученных модов)

### Требования к окружению
- **StationeersLaunchPad** (обязательно) - включает BepInEx
- **BepInEx** - фреймворк для модификации Unity игр
- **Assembly-CSharp.dll** - основная сборка игры Stationeers

### Структура мода
```
ModdingTools/Stationeers_EndGameTargetColony/
├── About/
│   └── About.xml          # Метаданные мода
├── [ModName].cs           # Основной код мода
└── README.md              # Документация
```

### Установка модов
- Путь установки: `%USERPROFILE%\AppData\Documents\My Games\Stationeers\mods\[ModName]`
- Конфигурация: `BepInEx/config/[author].[modname].cfg`

## Детальные требования к НПЦ

### 1. Создание НПЦ
- [+] Использовать существующий игровой объект как основу для НПЦ
- [+] Реализовать систему спавна НПЦ
- [ ] Обеспечить видимость и интерактивность НПЦ

### 2. Система дыхания
- [ ] Потребление кислорода из окружающей атмосферы
- [ ] Выделение CO2 в атмосферу
- [ ] Реалистичная скорость дыхательного процесса

### 3. Реакция на качество воздуха
- [ ] Урон при недостатке кислорода
- [ ] Урон при избытке загрязнения (Pollution)
- [ ] Урон при избытке летучих веществ (Volatiles)
- [ ] Прекращение урона при нормализации воздуха

### 4. Система потери сознания
- [ ] Потеря сознания при критически низком кислороде
- [ ] Прекращение активности в бессознательном состоянии
- [ ] Восстановление сознания при нормализации кислорода
- [ ] Возобновление активности после восстановления

### 5. Реакция на высокую температуру
- [ ] Урон при превышении максимальной безопасной температуры
- [ ] Прогрессирующий урон при продолжительном воздействии
- [ ] Прекращение урона при снижении температуры

### 6. Реакция на низкую температуру
- [ ] Урон при падении ниже минимальной безопасной температуры
- [ ] Прогрессирующий урон при продолжительном воздействии
- [ ] Прекращение урона при повышении температуры

### 7. Система передвижения
- [ ] Базовое передвижение по игровому миру
- [ ] Прохождение через двери
- [ ] Обход препятствий и поиск путей
- [ ] Естественная анимация движения

### 8. Целенаправленное поведение
- [ ] Система целей для НПЦ
- [ ] Выбор новых целей при достижении текущих
- [ ] Приоритизация целей
- [ ] Выбор альтернативных целей при недоступности основных
- [ ] **ПРИМЕЧАНИЕ:** Список конкретных целей будет определен позднее

### 9. Информационный интерфейс
- [ ] Отображение информации при наведении курсора
- [ ] Показ уровня здоровья НПЦ
- [ ] Показ состояния сознания
- [ ] Показ текущей цели НПЦ
- [ ] Показ влияющих факторов окружающей среды

## Технические детали реализации

### Базовый объект для НПЦ
**ВАЖНО:** Необходимо выбрать подходящий существующий игровой объект в качестве основы для НПЦ. Возможные варианты требуют исследования в декомпилированном коде.

### Системы игры для интеграции
- **Атмосферная система** - для взаимодействия с воздухом
- **Температурная система** - для реакции на температуру
- **Система здоровья/урона** - для получения урона
- **Система навигации** - для передвижения
- **UI система** - для отображения информации

### Конфигурационные параметры
Планируемые настройки мода:
- Скорость потребления кислорода
- Скорость выделения CO2
- Пороговые значения для различных газов
- Температурные пороги
- Скорость получения урона
- Время до потери сознания
- Параметры передвижения

## Этапы разработки

### Фаза 1: Исследование и подготовка
- [ ] Изучение декомпилированного кода игры
- [ ] Выбор базового объекта для НПЦ
- [ ] Анализ систем атмосферы и температуры
- [ ] Создание базовой структуры мода

### Фаза 2: Базовая функциональность
- [ ] Создание НПЦ на основе выбранного объекта
- [ ] Реализация системы дыхания
- [ ] Базовая реакция на окружающую среду

### Фаза 3: Продвинутые системы
- [ ] Система потери сознания
- [ ] Температурные реакции
- [ ] Система передвижения

### Фаза 4: Интеллектуальное поведение
- [ ] Система целей (после определения списка целей)
- [ ] Навигация и взаимодействие с объектами
- [ ] Информационный интерфейс

### Фаза 5: Полировка и оптимизация
- [ ] Тестирование всех систем
- [ ] Оптимизация производительности
- [ ] Создание конфигурационного файла
- [ ] Документация и инструкции

## Примечания по разработке

1. **Совместимость:** Мод должен быть совместим с StationeersLaunchPad
2. **Безопасность сохранений:** Мод не должен нарушать целостность файлов сохранения
3. **Производительность:** Необходимо учитывать влияние на производительность игры
4. **Модульность:** Код должен быть структурирован для легкого расширения функциональности

## Статус проекта

**Текущий этап:** Планирование и создание спецификации
**Следующий шаг:** Исследование декомпилированного кода и выбор базового объекта для НПЦ